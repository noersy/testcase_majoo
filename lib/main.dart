import 'package:flutter/foundation.dart';import 'package:flutter/material.dart';import 'package:flutter_bloc/flutter_bloc.dart';import 'package:majootestcase/ui/register/register_page.dart';import 'package:majootestcase/utils/sqlite.dart';import 'package:majootestcase/utils/connection.dart';import 'package:majootestcase/ui/home_bloc/home_bloc_screen.dart';import 'package:majootestcase/ui/login/login_page.dart';import 'package:provider/provider.dart';import 'bloc/auth_bloc/auth_bloc_cubit.dart';import 'bloc/home_bloc/home_bloc_cubit.dart';void main() {  WidgetsFlutterBinding.ensureInitialized();  DBLite.i.initialize();  Connection.i.initialize();  runApp(MyApp());}GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();class MyApp extends StatelessWidget {  @override  Widget build(BuildContext context) {    return MaterialApp(      title: 'Flutter Demo',      theme: ThemeData.light(),      navigatorKey: navigatorKey,      home: BlocProvider(        create: (context) => AuthBlocCubit()..fetchHistoryLogin(),        child: MyHomePageScreen(),      ),    );  }}class MyHomePageScreen extends StatelessWidget {  const MyHomePageScreen({Key key}) : super(key: key);  @override  Widget build(BuildContext context) {    return BlocBuilder<AuthBlocCubit, AuthBlocState>(builder: (context, state) {      if (state is AuthBlocLoginState) {        return LoginPage();      } else if (state is AuthBlocLoggedInState) {        return BlocProvider(          create: (context) => HomeBlocCubit()..fetchingData(),          child: HomeBlocScreen(),        );      }else if(state is AuthBlocRegisterState){        return RegisterPage();      }      return Center(child: Text(kDebugMode ? "state not implemented $state" : ""));    });  }}